# Mailbox Documentation

(autogenerated by mkmbox.py)

# Page 2

Offset|Name|Size|Direction|Desc|Note
------|----|----|---------|----|----
0|MB2\_FMC\_MGT\_CTL|1|FPGA=\>MMC|Input is bitfield. See scripts/README.md mgtmux\_mbox.sh.|

# Page 3

Offset|Name|Size|Direction|Desc|Note
------|----|----|---------|----|----
0|MB3\_COUNT|2|MCC=\>FPGA|Mailbox update counter|Access by byte as: MB3\_COUNT\_x (x=0,1)
6|MB3\_LM75\_0|2|MCC=\>FPGA|Returns LM75\_0 temperature in units of 0.5degC|Access by byte as: MB3\_LM75\_0\_x (x=0,1)
8|MB3\_LM75\_1|2|MCC=\>FPGA|Returns LM75\_1 temperature in units of 0.5degC|Access by byte as: MB3\_LM75\_1\_x (x=0,1)
10|MB3\_FMC\_ST|1|MCC=\>FPGA|Returns bitfield. 0=FMC1\_PWR, 1=FMC1\_FUSE, 2=FMC2\_PWR, 3=FMC1\_FUSE|
11|MB3\_PWR\_ST|1|MCC=\>FPGA|Returns bitfield. 0=PSU\_EN, 1=~POE\_PRESENT, 2=OTEMP|
12|MB3\_MGTMUX\_ST|1|MCC=\>FPGA|Returns bitfield of mux pin states. 0=MUX0\_MMC, 1=MUX1\_MMC, 2=MUX2\_MMC|
14|MB3\_GIT32|4|MCC=\>FPGA|32-bit git commit ID|Access by byte as: MB3\_GIT32\_x (x=0,1,2,3)

# Page 4

Offset|Name|Size|Direction|Desc|Note
------|----|----|---------|----|----
0|MB4\_MAX\_T1\_HI|1|MCC=\>FPGA|Returns raw value of MAX6639 register TEMP\_CH1|
1|MB4\_MAX\_T1\_LO|1|MCC=\>FPGA|Returns raw value of MAX6639 register TEMP\_EXT\_CH1|
2|MB4\_MAX\_T2\_HI|1|MCC=\>FPGA|Returns raw value of MAX6639 register TEMP\_CH2|
3|MB4\_MAX\_T2\_LO|1|MCC=\>FPGA|Returns raw value of MAX6639 register TEMP\_EXT\_CH2|
4|MB4\_MAX\_F1\_TACH|1|MCC=\>FPGA|Returns raw value of MAX6639 register FAN1\_TACH\_CNT|
5|MB4\_MAX\_F2\_TACH|1|MCC=\>FPGA|Returns raw value of MAX6639 register FAN2\_TACH\_CNT|
6|MB4\_MAX\_F1\_DUTY|1|MCC=\>FPGA|Returns MAX6639 ch1 fan duty cycle as duty\_percent*1.2.|
7|MB4\_MAX\_F2\_DUTY|1|MCC=\>FPGA|Returns MAX6639 ch2 fan duty cycle as duty\_percent*1.2.|
8|MB4\_PCB\_REV|1|MCC=\>FPGA|Returns bitfield. [4:7]=Board type (0=sim, 1=marble, 2=mini), [0:3]=PCB rev|
9|MB4\_COUNT|2|MCC=\>FPGA|Mailbox update counter|Access by byte as: MB4\_COUNT\_x (x=0,1)

# Page 5

Offset|Name|Size|Direction|Desc|Note
------|----|----|---------|----|----
0|MB5\_I2C\_BUS\_STATUS|1|MMC\<=\>FPGA|Returns logical OR of all I2C function return values. Write nonzero value to clear status.|

# Page 6

Offset|Name|Size|Direction|Desc|Note
------|----|----|---------|----|----
0|MB6\_FSYNTH\_I2C\_ADDR|1|MCC=\>FPGA|I2C address of frequency synthesizer (si570) in 8-bit (shifted) format.|
1|MB6\_FSYNTH\_CONFIG|1|MCC=\>FPGA|Config byte of frequency synthesizer (si570). Bit 0: Enable pin polarity (0 = polarity low, 1 = polarity high). Bit 1: Temperature stability (0 = 20 ppm or 50 ppm, 1 = 7 ppm) Bits 2-5: reserved. Bits [7:6]: 0b01 = Valid config (avoid acting on invalid 0xff or 0x00).|
2|MB6\_FSYNTH\_FREQ|4|MCC=\>FPGA|Startup frequency of frequency synthesizer (si570) in Hz.|Access by byte as: MB6\_FSYNTH\_FREQ\_x (x=0,1,2,3)

